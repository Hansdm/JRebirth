<assembly xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2 http://maven.apache.org/xsd/assembly-1.1.2.xsd"
>

	<id>package-all</id>

	<formats>
		<format>zip</format>
		<format>tar.gz</format>
	</formats>

	<includeBaseDirectory>true</includeBaseDirectory>
	<baseDirectory>JRebirth-${project.version}</baseDirectory>

	<!-- Analyzer Tool -->
	<fileSets>
		<fileSet>
			<directory>../analyzer/target/jnlp</directory>
			<outputDirectory>/Analyzer</outputDirectory>
		</fileSet>
	</fileSets>
	<moduleSets>


		<!-- <moduleSet> <useAllReactorProjects>true</useAllReactorProjects> <includes> <include>org.jrebirth:analyzer</include> </includes> <binaries> <includeDependencies>true</includeDependencies> <outputDirectory>Analyzer-${project.version}</outputDirectory> 
			<excludes> <exclude>*.jar</exclude> </excludes> <includes> <include>org.jrebirth.analyzer-${project.version}.zip</include> </includes> <unpack>true</unpack> </binaries> </moduleSet> -->


		<moduleSet>
			<includes>
				<include>org.jrebirth:core</include>
			</includes>
			<binaries>

				<outputDirectory>/</outputDirectory>
				<unpack>false</unpack>
				<includeDependencies>true</includeDependencies>

				<dependencySets>
					<dependencySet>
						<outputDirectory>libs</outputDirectory>
						<unpack>false</unpack>
						<useProjectArtifact>false</useProjectArtifact>
						<useTransitiveDependencies>true</useTransitiveDependencies>
						<useProjectAttachments>false</useProjectAttachments>
					</dependencySet>
				</dependencySets>
			</binaries>
		</moduleSet>

		<!-- Javadoc -->
		<moduleSet>
			<useAllReactorProjects>true</useAllReactorProjects>
			<includes>
				<include>org.jrebirth:core</include>
				<include>org.jrebirth:presentation</include>
				<include>org.jrebirth:transition</include>
			</includes>
			<binaries>
				<attachmentClassifier>javadoc</attachmentClassifier>
				<outputDirectory>apidocs/${module.artifactId}</outputDirectory>
				<unpack>true</unpack>
				<includeDependencies>false</includeDependencies>
			</binaries>
		</moduleSet>

		<!-- Sources -->
		<moduleSet>
			<useAllReactorProjects>true</useAllReactorProjects>
			<includes>
				<include>org.jrebirth:core</include>
				<include>org.jrebirth:presentation</include>
				<include>org.jrebirth:transition</include>
			</includes>
			<binaries>
				<attachmentClassifier>sources</attachmentClassifier>
				<outputDirectory>sources/${module.artifactId}</outputDirectory>
				<unpack>true</unpack>
				<includeDependencies>false</includeDependencies>
			</binaries>
		</moduleSet>

		<!-- Site -->
		<moduleSet>
			<useAllReactorProjects>true</useAllReactorProjects>
			<includes>
				<include>org:jrebirth</include>
				<include>org.jrebirth:core</include>
				<include>org.jrebirth:presentation</include>
				<include>org.jrebirth:transition</include>
			</includes>
			<binaries>
				<attachmentClassifier>site</attachmentClassifier>
				<outputDirectory>site/${module.artifactId}</outputDirectory>
				<unpack>true</unpack>
				<includeDependencies>false</includeDependencies>
			</binaries>
		</moduleSet>

	</moduleSets>

</assembly>