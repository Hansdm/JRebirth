<assembly xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2 http://maven.apache.org/xsd/assembly-1.1.2.xsd"
>

	<id>package-all</id>

	<formats>
		<format>zip</format>
		<format>tar.gz</format>
	</formats>

	<includeBaseDirectory>true</includeBaseDirectory>
	<baseDirectory>JRebirth-${project.version}</baseDirectory>


	<moduleSets>

		<!-- Analyzer Tool -->
		<moduleSet>
		
			<useAllReactorProjects>true</useAllReactorProjects>
			<includes>
				<include>org.jrebirth:analyzer</include>
			</includes>
			
			<binaries>
			
				<includeDependencies>true</includeDependencies>
				<outputDirectory>Analyzer-${project.version}</outputDirectory>
				<dependencySets>
					<dependencySet>
						<unpack>true</unpack>
						<useProjectArtifact>false</useProjectArtifact>
						<useTransitiveDependencies>false</useTransitiveDependencies>
						<useProjectAttachments>false</useProjectAttachments>
						<includes>
							<include>*.zip</include>
						</includes>
					</dependencySet>
				</dependencySets>
				<unpack>false</unpack>
			</binaries>
		</moduleSet>


		<!-- Only Raw Jar -->
		<moduleSet>
			<useAllReactorProjects>true</useAllReactorProjects>
			<includes>
				<include>org.jrebirth:core</include>
			</includes>
			<binaries>
				<includeDependencies>true</includeDependencies>
				<outputDirectory>/</outputDirectory>
				<!-- <outputFileNameMapping>${artifact.artifactId}-${artifact.baseVersion}.${ci.buildNumber}${dashClassifier?}.${artifact.extension}</outputFileNameMapping> -->
				<!-- <dependencySets> <dependencySet> <outputDirectory>sqljet-${project.version}.${ci.buildNumber}</outputDirectory> <unpack>false</unpack> <useProjectArtifact>true</useProjectArtifact> <useTransitiveDependencies>true</useTransitiveDependencies> 
					<useProjectAttachments>false</useProjectAttachments> <excludes> <exclude>org.tmatesoft.sqljet:*</exclude> </excludes> </dependencySet> </dependencySets> -->
				<unpack>false</unpack>
			</binaries>
		</moduleSet>

		<moduleSet>
			<useAllReactorProjects>true</useAllReactorProjects>
			<includes>
				<include>org.jrebirth:core</include>
			</includes>
			<binaries>
				<includeDependencies>true</includeDependencies>
				<outputDirectory>bin</outputDirectory>
				<!-- <outputFileNameMapping>${artifact.artifactId}-${artifact.baseVersion}.${ci.buildNumber}${dashClassifier?}.${artifact.extension}</outputFileNameMapping> -->
				<!-- <dependencySets> <dependencySet> <outputDirectory>sqljet-${project.version}.${ci.buildNumber}</outputDirectory> <unpack>false</unpack> <useProjectArtifact>true</useProjectArtifact> <useTransitiveDependencies>true</useTransitiveDependencies> 
					<useProjectAttachments>false</useProjectAttachments> <excludes> <exclude>org.tmatesoft.sqljet:*</exclude> </excludes> </dependencySet> </dependencySets> -->
				<unpack>false</unpack>
			</binaries>
		</moduleSet>

		<!-- Javadoc -->
		<moduleSet>
			<useAllReactorProjects>true</useAllReactorProjects>
			<includes>
				<include>org.jrebirth:core</include>
				<include>org.jrebirth:presentation</include>
				<include>org.jrebirth:transition</include>
			</includes>
			<binaries>
				<attachmentClassifier>javadoc</attachmentClassifier>
				<outputDirectory>apidocs/${module.artifactId}</outputDirectory>
				<unpack>true</unpack>
				<includeDependencies>false</includeDependencies>
			</binaries>
		</moduleSet>

		<!-- Sources -->
		<moduleSet>
			<useAllReactorProjects>true</useAllReactorProjects>
			<includes>
				<include>org.jrebirth:core</include>
				<include>org.jrebirth:presentation</include>
				<include>org.jrebirth:transition</include>
			</includes>
			<binaries>
				<attachmentClassifier>sources</attachmentClassifier>
				<outputDirectory>sources/${module.artifactId}</outputDirectory>
				<unpack>true</unpack>
				<includeDependencies>false</includeDependencies>
			</binaries>
		</moduleSet>
	</moduleSets>

</assembly>